# OpenGene

以基因演算法為基礎的類神經網路框架

* Evolution: 演化，任務中有多核心多執行序，不同核心的環境參數不同，有的強調答案正確性、有的更強調花費較少時間達到足夠正確的答案。
* Environment: 環境，定義要解決的任務，根據生命體的任務表現，給予不同程度的能量作為獎勵。
* Population: 族群，管理多個 生命體，定義生命體之間如何交配與交換基因。
* Organism: 生命體，轉譯基因、管理細胞，接收外部數據，利用內部細胞運算後，再將結果輸出給環境，以換取維持生命的能量。
* Structure: 細胞結構，定義細胞之間的連結。
* Cell: (神經)細胞，不同細胞有不同的轉譯方式，數據處理的最小單位。
* Node: 節點，沒有實作的細胞稱為節點，為 Structure 的最小單位。
* Gene: 基因，由 0 和 1 所構成，分別定義了1. 基本參數 2. 細胞結構 3. 數值

// TODO: 目前多以不同物種的形式在思考，也須思考同一物種內進行交配時，基因序列應該是透過拼接的形式組合而成，才會產生基因長度變長或變短
// TODO: 發展雛型中，因此可以暫時不考慮效率問題等，先實現功能之後再考慮。
// TODO: 目前細胞結構劃分了直線型和網狀，但其實直線型就是網狀的退化，當網狀成功建立後，就不需要直線型了。

---

* 生命體的基因變異機率等數值由 生命體 和 環境 來共同定義，生命在不同環境可以有不同表現。
* OpenGene 採用優化細胞間連結、以及細胞參數的形式。細胞定義則是事前先設計多種細胞，再解析定義數值的基因。
* 並非直接將基因轉譯成任務的答案，而是多細胞依序運算後取得答案(每個細胞都只進行較為單純的計算)，
因此計算量會大很多，需要利用 GPU 來進行運算。
* 環境若較惡劣(任務較為困難)，則生命體表現差，則在結構基因的變異上會較大，以適應該環境。

## Evolution

演化，任務中有多核心多執行序，不同核心的環境參數不同，有的強調答案正確性、有的更強調花費較少時間達到足夠正確的答案。

呼叫各個環境的 evolve 函式，來推動演化的進行。

當各個環境的生命體演化完成後，將讓各個族群間混種，演化出更強的後代。

## Environment

**每次有新的任務，需要重新定義**

環境，定義要解決的任務，根據生命體的任務表現，給予不同程度的能量作為獎勵。

## Population

族群，管理多個 生命體，定義生命體之間如何交配與交換基因。

評估族群整體表現，表現差時，提高結構基因的變異率，讓基因庫多樣化，以期出現適應該環境的基因組合。

一種 Population 包含著一種 Organism，同樣分直線型和網狀。

---

## Organism

生命體，轉譯基因、管理細胞，接收外部數據，利用內部細胞運算後，再將結果輸出給環境，以換取維持生命的能量。

1. 定義該生命體具有的基因個數
2. 定義使用何種結構(直線型結構、網狀結構)

Organism 會隨著結構、細胞類別、細胞數值不同而不同，但這三項只是基因的不同組合而已，並不會隨著任務不同而定義不同的 Organism。

初始化時，先解析結構，將細胞間的連結關係透過 Structure 來進行管理，再將 Cell 載入到各個節點當中。Organism 則利用 Structure 
依序將數據在細胞之間傳播與運算。

一種 Organism 包含著一種 Structure，但 Structure 專職管理著結構與各個細胞間的關係，Organism 還要處理那以外的部分。

## Structure

細胞結構，定義細胞之間的連結。

1. 網狀結構
2. 直線型結構(網狀結構的退化型，每個節點都只指向下一個，沒有多對一或是一對多等)

應知道每個節點在第幾層(layer)，若有環狀結構則取最小值，數據傳播根據 layer 來依序傳播。

或許應直接發展網狀結構，但輸入直線型的基因定義，直接退化成直線型，而非另外建構直線型的 Structure。

## Cell

(神經)細胞，不同細胞有不同的轉譯方式，數據處理的最小單位。

設計了一種 RawCell，其輸出和輸入完全相同，此細胞的作用在於調節訊息傳播速度，不應該將其省略。

每個細胞有 4096 個基因，前 16 個基因定義細胞類型，共 65536 種。

後面 4080 個基因由各個基因各決定幾個用於定義結構，幾個用於定義數值，設計者應自己確保不超過這個數值。

## Gene

基因，由 0 和 1 所構成，分別定義了1. 基本參數 2. 細胞結構 3. 數值

> 1.細胞個數 
>> n = 2^a * 3^b * 5^c * 7^d -> a, b, c, d 分別由 2 個基因定義(0 ~ 3) -> 共 8 個基因來定義，個數組合數為
>
>> 檢查後面的基因個數是否足夠建構該數量的細胞，若不足，則該細胞無法成立。 
>
>> a, b, c, d 同樣用於定義 -> 檢查次數、檢查位置分布

> 2.細胞結構 
>> n^2 個細胞，利用 Structure 來解析
>> 第一版 OpenGene 先令 n = 210

> 3.數值
>> 由 Cell 來解析數值如何被定義與使用，每個細胞有 4096 個基因，不和其他細胞重疊，
>> 細胞內取值也是每 8 個取一次，同樣不重疊(取消 step 機制)
>
>> (0 ~ 15) 前 16 個基因定義細胞類型，共 65536 種
>
>> (16 ~ 4097) 後面 4080 個基因由各個基因各決定幾個用於定義結構，幾個用於定義數值


* bit 位元，電腦最小單位
* Byte(B)               = 8 bits (1 位元組)
* KB (Kilobyte)         = 1024 B
* MB (Megabyte)         = 1024 KB    
* GB (Gigabyte)         = 1024 MB 
* TB (Terabyte)         = 1024 GB
* PB (Petabyte)         = 1024 TB
* EB (Exabyte)          = 1024 PB

